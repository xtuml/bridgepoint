<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>11.4. Handling of an Exception</title>
<link rel="stylesheet" type="text/css" href="docbook.css">
<meta name="generator" content="DocBook XSL Stylesheets V1.79.1">
<meta name="keywords" content="MASL, Action Language, Action Semantics, UML, Unified Modelling Language, Shlaer Mellor">
<link rel="home" href="index.html" title="MASL Reference Manual">
<link rel="up" href="Exceptions.html" title="Chapter 11. Exceptions">
<link rel="prev" href="ExceptionCompileTimeCheckingofExceptions.html" title="11.3. Compile-Time Checking of Exceptions">
<link rel="next" href="Statements.html" title="Chapter 12. Statements">
<link rel="preface" href="preface.html" title="Preface">
<link rel="chapter" href="Grammars.html" title="Chapter 1. Grammars">
<link rel="chapter" href="LexicalStructure.html" title="Chapter 2. Lexical Structure">
<link rel="chapter" href="Types.html" title="Chapter 3. Types">
<link rel="chapter" href="TypeConversion.html" title="Chapter 4. Type Conversion">
<link rel="chapter" href="Domains.html" title="Chapter 5. Domains">
<link rel="chapter" href="Objects.html" title="Chapter 6. Objects">
<link rel="chapter" href="Relationships.html" title="Chapter 7. Relationships">
<link rel="chapter" href="Lifecycles.html" title="Chapter 8. Lifecycles">
<link rel="chapter" href="Functions.html" title="Chapter 9. Functions">
<link rel="chapter" href="Services.html" title="Chapter 10. Services">
<link rel="chapter" href="Exceptions.html" title="Chapter 11. Exceptions">
<link rel="chapter" href="Statements.html" title="Chapter 12. Statements">
<link rel="chapter" href="Names.html" title="Chapter 13. Names">
<link rel="chapter" href="Expressions.html" title="Chapter 14. Expressions">
<link rel="appendix" href="LanguageDefinedCharacteristics.html" title="Appendix A. Language Defined Characteristics">
<link rel="appendix" href="SyntaxSummary.html" title="Appendix B. Syntax Summary">
<link rel="index" href="ix01.html" title="Index">
<link rel="subsection" href="ExceptionsHandlingofanException.html#ExceptionsHandlingExceptionAcrossAsynchronousBoundaries" title="11.4.1. Handling Exceptions Across Asynchronous Boundaries">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<div align="center">OFFICIAL</div>
<div class="navheader">
<table width="100%" summary="Navigation header">
<tr><th colspan="3" align="center">11.4. Handling of an Exception</th></tr>
<tr>
<td width="20%" align="left">
<a accesskey="p" href="ExceptionCompileTimeCheckingofExceptions.html">Prev</a> </td>
<th width="60%" align="center">Chapter 11. Exceptions</th>
<td width="20%" align="right"> <a accesskey="n" href="Statements.html">Next</a>
</td>
</tr>
</table>
<hr>
</div>
<div class="section">
<div class="titlepage"><div><div><h2 class="title">
<a name="ExceptionsHandlingofanException"></a>11.4. Handling of an Exception</h2></div></div></div>
<div class="toc"><dl class="toc"><dt><span class="section"><a href="ExceptionsHandlingofanException.html#ExceptionsHandlingExceptionAcrossAsynchronousBoundaries">11.4.1. Handling Exceptions Across Asynchronous Boundaries</a></span></dt></dl></div>
<p>
When an exception is raised,
<a class="indexterm" name="idp67535024"></a>
control is transferred from the code that caused
the exception
<a class="indexterm" name="idp67536416"></a>
to the nearest dynamically-enclosing handler
<a class="indexterm" name="idp67537344"></a>
of a handled sequence of statements
<a class="indexterm" name="idp67538704"></a>
that handles the exception.
</p>
<a class="indexterm" name="idp67540240"></a><a class="indexterm" name="idp67541440"></a><a class="indexterm" name="idp67542624"></a><a class="indexterm" name="idp67543936"></a><a class="indexterm" name="idp67545120"></a><a class="indexterm" name="idp67546320"></a><a class="indexterm" name="idp67547488"></a><a class="indexterm" name="idp67548784"></a><a class="indexterm" name="idp67549952"></a><a class="indexterm" name="idp67551248"></a><a class="indexterm" name="idp67552416"></a><a class="indexterm" name="idp67553616"></a><a class="indexterm" name="idp67554928"></a><a class="indexterm" name="idp67556240"></a><a class="indexterm" name="idp67557552"></a><a class="indexterm" name="idp67558736"></a><a class="indexterm" name="idp67559904"></a><a class="indexterm" name="idp67561072"></a><a class="indexterm" name="idp67562256"></a><a class="indexterm" name="idp67563440"></a><a class="indexterm" name="idp67564752"></a><table width="100%" cellpadding="5" bgcolor="#F5DCB3" border="1" class="productionset" summary="EBNF"><tr><td><table border="0" width="99%" cellpadding="0" bgcolor="#F5DCB3" class="productionset" summary="EBNF productions">
<tr>
<td align="left" valign="top" width="3%">[145]</td>
<td align="right" valign="top" width="10%">
<a name="ebnf.handledsequenceofstatements"></a>
        handled sequence of statements
    </td>
<td valign="top" width="5%" align="center">=</td>
<td valign="top" width="52%">
        <a href="StatementsSequenceofStatements.html#ebnf.sequenceofstatements">sequence of statements</a>,
        [('exception',
        {<a href="ExceptionsHandlingofanException.html#ebnf.exceptionhandler">exception handler</a>},
        [<a href="ExceptionsHandlingofanException.html#ebnf.exceptionothershandler">exception others handler</a>]]
    ;</td>
<td align="left" valign="top" width="30%"> </td>
</tr>
<tr>
<td align="left" valign="top" width="3%">[146]</td>
<td align="right" valign="top" width="10%">
<a name="ebnf.exceptionhandler"></a>
        exception handler
    </td>
<td valign="top" width="5%" align="center">=</td>
<td valign="top" width="52%">
        'when',
        <a href="ExceptionsHandlingofanException.html#ebnf.exceptionchoice">exception choice</a>,
        '=&gt;',
        <a href="StatementsSequenceofStatements.html#ebnf.sequenceofstatements">sequence of statements</a>
    ;</td>
<td align="left" valign="top" width="30%"> </td>
</tr>
<tr>
<td align="left" valign="top" width="3%">[147]</td>
<td align="right" valign="top" width="10%">
<a name="ebnf.exceptionothershandler"></a>
        exception others handler
    </td>
<td valign="top" width="5%" align="center">=</td>
<td valign="top" width="52%">
        'when', 'others', '=&gt;',
        <a href="StatementsSequenceofStatements.html#ebnf.sequenceofstatements">sequence of statements</a>
    ;</td>
<td align="left" valign="top" width="30%"> </td>
</tr>
<tr>
<td align="left" valign="top" width="3%">[148]</td>
<td align="right" valign="top" width="10%">
<a name="ebnf.exceptionchoice"></a>
        exception choice
    </td>
<td valign="top" width="5%" align="center">=</td>
<td valign="top" width="52%">
        <a href="ExceptionsHandlingofanException.html#ebnf.exceptionspecification">exception specification</a>
    ;</td>
<td align="left" valign="top" width="30%"> </td>
</tr>
<tr>
<td align="left" valign="top" width="3%">[149]</td>
<td align="right" valign="top" width="10%">
<a name="ebnf.exceptionspecification"></a>
        exception specification
    </td>
<td valign="top" width="5%" align="center">=</td>
<td valign="top" width="52%">
        <a href="DomainsDomainDeclaration.html#ebnf.domainname">domain name</a>,
        '::',
        <a href="ExceptionsExceptionDeclarations.html#ebnf.exceptionname">exception name</a> |
        <a href="ExceptionsExceptionDeclarations.html#ebnf.exceptionname">exception name</a>
    ;</td>
<td align="left" valign="top" width="30%"> </td>
</tr>
</table></td></tr></table>
<p>
A statement or expression is dynamically enclosed by an
<a class="link" href="ExceptionsHandlingofanException.html#ebnf.exceptionhandler">exception handler</a>
<a class="indexterm" name="idp67587952"></a>
if either of the following are true:
</p>
<div class="itemizedlist"><ul class="itemizedlist">
<li class="listitem"><p>
It appears within the sequence of statements of which the
<a class="link" href="ExceptionsHandlingofanException.html#ebnf.exceptionhandler">exception handler</a>
<a class="indexterm" name="idp67591216"></a>
is a part.
</p></li>
<li class="listitem"><p>
If the caller of the statement or expression is dynamically enclosed by the
<a class="link" href="ExceptionsHandlingofanException.html#ebnf.exceptionhandler">exception handler</a>.
<a class="indexterm" name="idp67594144"></a>
</p></li>
<li class="listitem"><p>
The caller of a statement or expression is the service invocation statement
that was executed to cause the service to be invoked.
</p></li>
</ul></div>
<p>
</p>
<p>
Whether a particular
<a class="link" href="ExceptionsHandlingofanException.html#ebnf.exceptionhandler">exception handler</a>
<a class="indexterm" name="idp67598144"></a>
handles an exception is determined by
comparing the name of the exception
<a class="indexterm" name="idp67599456"></a>
to the name of the exception
<a class="indexterm" name="idp67600368"></a>
given in the <a class="link" href="ExceptionsHandlingofanException.html#ebnf.exceptionhandler">exception handler</a>.
<a class="indexterm" name="idp67601984"></a>
</p>
<p>
At most one
<code class="exceptionname">others</code>
<a class="indexterm" name="idp67604224"></a>
exception is allowed at the end of the
exception handler list.
<a class="indexterm" name="idp67605888"></a>
This handler handles any exception that has not already
been handled in the subsequent handlers
<a class="indexterm" name="idp67607760"></a>
within the list.
</p>
<p>
The control transfer that occurs when an exception
<a class="indexterm" name="idp67609584"></a>
is thrown causes abrupt completion
<a class="indexterm" name="idp67610496"></a>
of expressions and statements until an exception handler
<a class="indexterm" name="idp67611440"></a>
is encountered that can handle the exception. Execution then continues by
executing the sequence of statements of that exception handler.
<a class="indexterm" name="idp67612912"></a>
The code that caused the exception is never resumed.
</p>
<p>
If no exception handler
<a class="indexterm" name="idp67614752"></a>
can be found, then the current thread
<a class="indexterm" name="idp67616112"></a>
(the thread that
encountered the exception) is terminated, but only after the software
architecture is notified. The exact rules for abrupt completion
<a class="indexterm" name="idp67617152"></a>
and for the catching of exceptions
<a class="indexterm" name="idp67618064"></a>
are specified in detail within the specification of
each statement (see <a class="xref" href="Statements.html" title="Chapter 12. Statements">Chapter 12, <i>Statements</i></a>).
</p>
<div class="section">
<div class="titlepage"><div><div><h3 class="title">
<a name="ExceptionsHandlingExceptionAcrossAsynchronousBoundaries"></a>11.4.1. Handling Exceptions Across Asynchronous Boundaries</h3></div></div></div>
<p>
There are certain statements that cause asynchronous control. These are:
</p>
<div class="itemizedlist"><ul class="itemizedlist">
<li class="listitem"><p>
Event generation.
<a class="indexterm" name="idp67622720"></a>
</p></li>
<li class="listitem"><p>
Asynchronous service invocation of a domain service of another domain.
<a class="indexterm" name="idp68007984"></a>
</p></li>
</ul></div>
<p>
If an exception is raised
<a class="indexterm" name="idp68010272"></a>
as a result of consuming an event
<a class="indexterm" name="idp68011632"></a>
and the exception
<a class="indexterm" name="idp68012976"></a>
is not handled, then the exception<a class="indexterm" name="idp68013888"></a>
is not propagated back to the original event generation.
<a class="indexterm" name="idp68015280"></a>
Similarly, for the asynchronous invocation of a domain service.
<a class="indexterm" name="idp68016672"></a>
This is the opposite of synchronous invocation of a domain
<a class="indexterm" name="idp68018512"></a>
or object service,
<a class="indexterm" name="idp68020304"></a>
where the exception is propagated back to the caller. Hence, if an exception is
raised
<a class="indexterm" name="idp68022176"></a>
in a state action
<a class="indexterm" name="idp68023520"></a>
and this exception
<a class="indexterm" name="idp68024864"></a>
is not caught within this state
action then the exception
<a class="indexterm" name="idp68025808"></a>
is passed to the software architecture.
</p>
</div>
</div>
<div class="navfooter">
<hr>
<table width="100%" summary="Navigation footer">
<tr>
<td width="40%" align="left">
<a accesskey="p" href="ExceptionCompileTimeCheckingofExceptions.html">Prev</a> </td>
<td width="20%" align="center"><a accesskey="u" href="Exceptions.html">Up</a></td>
<td width="40%" align="right"> <a accesskey="n" href="Statements.html">Next</a>
</td>
</tr>
<tr>
<td width="40%" align="left" valign="top">11.3. Compile-Time Checking of Exceptions </td>
<td width="20%" align="center">
<a accesskey="h" href="index.html">Home</a> | <a accesskey="t" href="bk01-toc.html">ToC</a>
</td>
<td width="40%" align="right" valign="top"> Chapter 12. Statements</td>
</tr>
</table>
</div>
<div align="center">OFFICIAL</div>
</body>
</html>
