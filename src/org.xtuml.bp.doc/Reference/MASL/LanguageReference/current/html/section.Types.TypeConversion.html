<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>2.1. Type Conversion</title>
<link rel="stylesheet" type="text/css" href="docbook.css">
<meta name="generator" content="DocBook XSL Stylesheets V1.79.1">
<meta name="keywords" content="MASL, Action Language, Action Semantics, UML, Unified Modelling Language, Shlaer Mellor">
<link rel="home" href="index.html" title="MASL Reference Manual">
<link rel="up" href="section.Types.html" title="Chapter 2. Type System">
<link rel="prev" href="section.Types.html" title="Chapter 2. Type System">
<link rel="next" href="section.Types.Declaration.html" title="2.2. Type Declaration">
<link rel="chapter" href="section.LexicalStructure.html" title="Chapter 1. Lexical Structure">
<link rel="chapter" href="section.Types.html" title="Chapter 2. Type System">
<link rel="chapter" href="section.Domains.html" title="Chapter 3. Domains">
<link rel="chapter" href="section.Services.html" title="Chapter 4. Services, Functions and State Actions">
<link rel="chapter" href="section.Relationships.html" title="Chapter 5. Relationships">
<link rel="chapter" href="section.Exceptions.html" title="Chapter 6. Exceptions">
<link rel="chapter" href="section.Terminators.html" title="Chapter 7. Terminators">
<link rel="chapter" href="section.Objects.html" title="Chapter 8. Objects">
<link rel="chapter" href="section.Statements.html" title="Chapter 9. Statements">
<link rel="chapter" href="section.Expressions.html" title="Chapter 10. Expressions">
<link rel="chapter" href="section.Projects.html" title="Chapter 11. Projects">
<link rel="chapter" href="section.Pragmas.html" title="Chapter 12. Pragmas">
<link rel="appendix" href="AlphabeticalSyntaxReference.html" title="Appendix A. Alphabetical Syntax Reference">
<link rel="index" href="ix01.html" title="Index">
<link rel="subsection" href="section.Types.TypeConversion.html#Section.Types.PrimitiveType" title="2.1.1. Primitive Type">
<link rel="subsection" href="section.Types.TypeConversion.html#section.Types.Anonymous" title="2.1.2. Anonymous Types">
<link rel="subsection" href="section.Types.TypeConversion.html#section.Types.Assignable" title="2.1.3. Assignable">
<link rel="subsection" href="section.Types.TypeConversion.html#section.Types.Convertible" title="2.1.4. Convertible">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<div align="center">OFFICIAL</div>
<div class="navheader">
<table width="100%" summary="Navigation header">
<tr><th colspan="3" align="center">2.1. Type Conversion</th></tr>
<tr>
<td width="20%" align="left">
<a accesskey="p" href="section.Types.html">Prev</a> </td>
<th width="60%" align="center">Chapter 2. Type System</th>
<td width="20%" align="right"> <a accesskey="n" href="section.Types.Declaration.html">Next</a>
</td>
</tr>
</table>
<hr>
</div>
<div class="section">
<div class="titlepage"><div><div><h2 class="title">
<a name="section.Types.TypeConversion"></a>2.1. Type Conversion</h2></div></div></div>
<div class="toc"><dl class="toc">
<dt><span class="section"><a href="section.Types.TypeConversion.html#Section.Types.PrimitiveType">2.1.1. Primitive Type</a></span></dt>
<dt><span class="section"><a href="section.Types.TypeConversion.html#section.Types.Anonymous">2.1.2. Anonymous Types</a></span></dt>
<dt><span class="section"><a href="section.Types.TypeConversion.html#section.Types.Assignable">2.1.3. Assignable</a></span></dt>
<dt><span class="section"><a href="section.Types.TypeConversion.html#section.Types.Convertible">2.1.4. Convertible</a></span></dt>
</dl></div>
<p>To specify rules regarding type conversion in MASL we first
      need to introduce some concepts which are used to determine which
      conversions are possible
    </p>
<div class="section">
<div class="titlepage"><div><div><h3 class="title">
<a name="Section.Types.PrimitiveType"></a>2.1.1. Primitive Type</h3></div></div></div>
<p>The primitive type of any type can be found by moving up
        through the heirarchy of type declarations until a built in type
        is reached, ignoring any constraints introduced by type
        definitions along the way. Once a built in type is reached the
        following table can be used to find the primitive type. If a
        type does not appear in the table below, then it is a primitive
        type itself.
      </p>
<div class="informaltable"><table>
<thead><tr>
            <td>Type</td>
            <td>Primitive</td>
          </tr></thead>
<tr>
          <td>
            <code class="code">byte</code>
          </td>
          <td>
            <code class="code">long_integer</code>
          </td>
        </tr>
<tr>
          <td>
            <code class="code">integer</code>
          </td>
          <td>
            <code class="code">long_integer</code>
          </td>
        </tr>
<tr>
          <td>
            <code class="code">string</code>
          </td>
          <td>
            <code class="code">sequence of character</code>
          </td>
        </tr>
<tr>
          <td>
            <code class="code">set of T</code>
          </td>
          <td>
            <code class="code">sequence of T</code>
          </td>
        </tr>
<tr>
          <td>
            <code class="code">bag of T</code>
          </td>
          <td>
            <code class="code">sequence of T</code>
          </td>
        </tr>
<tr>
          <td>
            <code class="code">array of T</code>
          </td>
          <td>
            <code class="code">sequence of T</code>
          </td>
        </tr>
</table></div>
<p>In addition, the primitive type of a structure is a
        structure with anonymous components of the same type as the
        components of the original structure. Any type defined to be an
        enumeration is its own primitive type.
      </p>
</div>
<div class="section">
<div class="titlepage"><div><div><h3 class="title">
<a name="section.Types.Anonymous"></a>2.1.2. Anonymous Types</h3></div></div></div>
<p>All variables, parameters, object attributes and structure
        components have a known type which can be deduced from their
        definition. There are a number of expressions, however, which
        have a type which is never explicity specified, for example
        literals, navigates and finds. These are known as anonymous
        types, and they have slightly relaxed rules for assignability.
        It is also possible to explicity declare a variable, parameter
        etc as having an anonymous type, which can sometimes be useful
        in specifiying generic interfaces.
      </p>
</div>
<div class="section">
<div class="titlepage"><div><div><h3 class="title">
<a name="section.Types.Assignable"></a>2.1.3. Assignable</h3></div></div></div>
<div class="itemizedlist"><ul class="itemizedlist">
<li class="listitem"><p>A named type is assigable to the same named type</p></li>
<li class="listitem"><p>An anonymous type is assignable to a named type if they
            have the same primitive type
          </p></li>
<li class="listitem"><p>An named type is assignable to an anonymous type if they
            have the same primitive type
          </p></li>
<li class="listitem"><p>An anonymous integer type is assignable to any type with
            a primitive type of real
          </p></li>
<li class="listitem"><p>An anonymous structure is assignable to a type with a
            primitive type of a structure if the individual components
            are assignable. If the primitive type of the expression to
            be asssigned is not a structure, it should be promoted to an
            anonymous structure with a single component of the original
            expression before trying this test.
          </p></li>
<li class="listitem"><p>An anonymous collection (set, array, bag or sequence) is
            assigable to a type with a primitive type of sequence if the
            contained elements are assignable. If the primitive type of
            the expression to be asssigned is not a sequence, it should
            be promoted to an anonymous sequence with a single element
            of the original expression before trying this test.</p></li>
</ul></div>
</div>
<div class="section">
<div class="titlepage"><div><div><h3 class="title">
<a name="section.Types.Convertible"></a>2.1.4. Convertible</h3></div></div></div>
<p>to do</p>
</div>
</div>
<div class="navfooter">
<hr>
<table width="100%" summary="Navigation footer">
<tr>
<td width="40%" align="left">
<a accesskey="p" href="section.Types.html">Prev</a> </td>
<td width="20%" align="center"><a accesskey="u" href="section.Types.html">Up</a></td>
<td width="40%" align="right"> <a accesskey="n" href="section.Types.Declaration.html">Next</a>
</td>
</tr>
<tr>
<td width="40%" align="left" valign="top">Chapter 2. Type System </td>
<td width="20%" align="center">
<a accesskey="h" href="index.html">Home</a> | <a accesskey="t" href="bk01-toc.html">ToC</a>
</td>
<td width="40%" align="right" valign="top"> 2.2. Type Declaration</td>
</tr>
</table>
</div>
<div align="center">OFFICIAL</div>
</body>
</html>
