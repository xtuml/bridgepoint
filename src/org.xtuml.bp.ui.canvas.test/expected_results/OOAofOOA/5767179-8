drawText(" 1. Idle", 911, 625, true)
drawline(909, 637, 1205, 637)
drawText("entry/GRAPH::setMouseCursor(type:"default");", 911, 641, true)
drawText(" 2. Waiting for Initial Position", 911, 876, true)
drawline(909, 887, 1205, 887)
drawText("entry/GRAPH::setMouseCursor(type:"pencil");select one canvas related by self->GD_TOOL[R1012]->GD_MD[R10...CLIENT::unSelectAll();CLIENT::addToSelection(element:canvas.represents);", 911, 891, true)
drawText(" 3. Initializing Shape", 911, 1164, true)
drawline(909, 1175, 1205, 1175)
drawText("entry/select one canvas related by self->GD_TOOL[R1012]->GD_MD[R10...canvas.RRectX = rcvd_evt.X;canvas.RRectY = rcvd_evt.Y;canvas.RRectW = 0;canvas.RRectH = 0;", 911, 1179, true)
drawText(" 4. Dragging Shape", 1320, 1145, true)
drawline(1317, 1157, 1632, 1157)
drawText("entry/select one canvas related by self->GD_TOOL[R1012]->GD_MD[R1015];select one elem_spec related by self->GD_TOOL[R1012]->GD_ES[R1014];if (elem_spec.isFixedAspectRatio)  // Calculate aspect ratio (floating point)  floatHeight = 1.0;  floatWidth = 1.0;  floatHeight = elem_spec.defaultHeight;  floatWidth = elem_spec.defaultWidth;  aspectRatio =  floatHeight/floatWidth ;  //  canvas.RRectW = canvas.RRectW + rcvd_evt.X;  canvas.RRectH = canvas.RRectW * aspectRatio;else  canvas.RRectW = canvas.RRectW + rcvd_evt.X;  canvas.RRectH = canvas.RRectH + rcvd_evt.Y;end if;canvas.drawingRRect = true;", 1320, 1161, true)
drawText(" 5. Creating Element", 1320, 690, true)
drawline(1317, 702, 1632, 702)
drawText("entry/select one canvas related by self->GD_TOOL[R1012]->GD_MD[R1015];canvas.drawingRRect = false;select one parent related by self->GD_TOOL[R1012];//// Create the new graphical element//create object instance elem of GD_GE;// GE_ID is an integer, so we must explicity allocate an id.select many elems from instances of GD_GE;elem.GE_ID = cardinality elems;// id allocatedcreate object instance shape of GD_SHP;//// Set up shape co-ordinates from rectangle size.// Note that the rectangle is captured as raw co-ordinates for fast drawing// so must convert to absolute canvas co-ordinate system before assignm...//shape.setNW_X(newValue:(canvas.RRectX / canvas.ZoomFactor) + canva...shape.setNW_Y(newValue: (canvas.RRectY / canvas.ZoomFactor) + canv...shape.setSE_X(newValue:((canvas.RRectX + canvas.RRectW) / canvas.Zo...shape.setSE_Y(newValue:((canvas.RRectY + canvas.RRectH) / canvas.Zo...relate elem to shape across R1006;relate elem to canvas across R1007;elem.waitingForClientElement = true;select one elem_spec related by self->GD_TOOL[R1012]->GD_ES[R1014];relate elem to elem_spec across R1010;//// Now create the client instance//CLIENT::invoke(method:parent.Method, on:canvas.represents);//// The work is done, get ready for another node creation//generate GD_NDT4:Done to self;", 1320, 706, true)
drawPolyline("974, 714, 974, 872)
drawText("GD_NDT5:", 0, 2, true)
drawText("Activate", 0, 13, true)
drawPolyline("977, 865, 974, 872, 970, 865)
drawPolyline("1057, 872, 1057, 807, 1122, 714)
drawText("GD_NDT6:", 0, 2, true)
drawText("Deactivate", 0, 13, true)
drawPolyline("1115, 718, 1122, 714, 1121, 722)
drawPolyline("1057, 955, 1057, 1160)
drawText("GD_NDT1:", 0, 1, true)
drawText("Mouse", 0, 12, true)
drawText("Down(X, Y)", 0, 23, true)
drawPolyline("1061, 1153, 1057, 1160, 1054, 1153)
drawPolyline("1317, 760, 1141, 760, 1141, 872)
drawText("GD_NDT4:", 0, 1, true)
drawText("Done", 0, 12, true)
drawPolyline("1144, 865, 1141, 872, 1137, 865)
drawPolyline("1206, 1215, 1317, 1215)
drawText("GD_NDT3:", 0, 1, true)
drawText("Mouse", 0, 12, true)
drawText("Moved(X,", 0, 23, true)
drawText("Y)", 0, 34, true)
drawPolyline("1310, 1212, 1317, 1215, 1310, 1219)
drawPolyline("1410, 1141, 1382, 1104)
drawText("GD_NDT2:", 0, 2, true)
drawText("Mouse Up(X, Y)", 0, 13, true)
drawPolyline("1383, 1111, 1382, 1104, 1389, 1107)
drawPolyline("1494, 1354, 1494, 1392, 1345, 1392, 1345, 1354)
drawText("GD_NDT3:", 0, 2, true)
drawText("Mouse", 0, 13, true)
drawText("Moved(X,", 0, 24, true)
drawText("Y)", 0, 35, true)
drawPolyline("1342, 1361, 1345, 1354, 1349, 1361)